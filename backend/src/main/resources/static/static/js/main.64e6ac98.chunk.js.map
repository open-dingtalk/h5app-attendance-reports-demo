{"version":3,"sources":["List.js","App.js","reportWebVitals.js","index.js"],"names":["buttonStyle","height","margin","padding","fontsize","TrData","props","this","items","map","item","checkType","userAddress","userCheckTime","sessionStorage","userId","React","Component","List","goodsCollectionAndApprove","data","getItem","axios","url","domain","method","headers","then","response","alert","catch","error","console","log","attendanceReports","get","setState","attendanceResultList","isLoaded","JSON","stringify","state","style","onClick","getTableRowData","dd","permission","requestAuthCode","corpId","onSuccess","result","code","setItem","userid","deptIdList","onFail","err","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6NAIMA,EAAc,CAACC,OAAQ,OAAQC,OAAQ,OAAQC,QAAS,OAAQC,SAAU,QAE1EC,E,kDACF,WAAYC,GAAQ,uCACVA,G,0CAIV,WACI,OACIC,KAAKD,MAAME,MAAMC,KAAI,SAACC,GAClB,IAAMC,EAAYD,EAAKC,UACjBC,EAAcF,EAAKE,YACnBC,EAAgBH,EAAKG,cAC3B,OACI,+BACI,6BAAKC,eAAeC,SACpB,6BAAKJ,IACL,6BAAKC,IACL,6BAAKC,c,GAjBRG,IAAMC,WAwHZC,E,kDA7FX,WAAYZ,GAAQ,IAAD,8BACf,cAAMA,IAOVa,0BAA4B,WAExB,IAGMC,EAAO,CACT,YAAe,CAAC,CACZ,UAAa,CAAC,CAAC,KAAQ,2BAAQ,MAAS,qDAAc,CAClD,KAAQ,eACR,MAAS,MACT,KAAQ,6BAEhB,iBAVWN,eAAeO,QAAQ,UAWlC,UAAa,CAAC,CAAC,KAAQ,2BAAQ,MAAS,wCAAW,CAAC,KAAQ,2BAAQ,MAAS,8BAC7E,OAXWP,eAAeO,QAAQ,WActCC,IAAM,CACFC,IAAKC,EAAS,oBACdC,OAAQ,OACRL,KAAMA,EACNM,QAAS,CACL,eAAgB,sBAGnBC,MAAK,SAAUC,GACZC,MAAM,cAaTC,OAAM,SAAUC,GACbC,QAAQC,IAAIF,OAhDL,EAoDnBG,kBAAoB,WAEhB,IAAMnB,EAASD,eAAeO,QAAQ,UAGtCC,IAAMa,IAAIX,EAAS,sBAAwBT,EAAS,wBAC/CY,MAAK,SAAAC,GACF,EAAKQ,SACD,CAAC5B,MAAOoB,EAASR,KAAKA,KAAKiB,qBAAsBC,UAAU,OAIlER,OAAM,SAAAC,GACHF,MAAMU,KAAKC,UAAUT,QA/D7B,EAAKU,MAAQ,CACTjC,MAAO,GACP8B,UAAU,GAJC,E,0CAsEnB,WACI,OAAQ,gCACJ,wBAAQI,MAAO1C,EAAa2C,QAASpC,KAAK2B,kBAA1C,8DACA,wBAAQQ,MAAO1C,EAAa2C,QAASpC,KAAKqC,gBAA1C,oEACA,wBAAOF,MAAM,2CAAb,UACI,gCACA,+BACI,8CACA,0DACA,0DACA,+DAGJ,gCAEA,cAAC,EAAD,CAAQlC,MAAOD,KAAKkC,MAAMjC,oB,GAvFvBQ,IAAMC,WCvBZO,EAAS,0BAUtBqB,SAAS,WAEPA,UAAWC,WAAWC,gBAAgB,CACpCC,OAAQ,uBACRC,UAAW,SAASC,GAElB5B,IAAMa,IAAIX,EAAS,mBAAqB0B,EAAOC,MAC1CxB,MAAK,SAAAC,GAOFd,eAAesC,QAAQ,SAAUxB,EAASR,KAAKA,KAAKiC,QACpDvC,eAAesC,QAAQ,SAAUxB,EAASR,KAAKA,KAAKkC,WAAW,OAElExB,OAAM,SAAAC,GACHF,MAAM,SACRA,MAAMU,KAAKC,UAAUT,QAK7BwB,OAAS,SAASC,GACd3B,MAAM,QACRA,MAAMU,KAAKC,UAAUgB,UAKZC,MAxCf,WACI,OACI,qBAAKC,UAAU,MAAf,SACI,cAAC,EAAD,OCAGC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlC,MAAK,YAAkD,IAA/CmC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.64e6ac98.chunk.js","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport {domain} from \"./App\";\n\nconst buttonStyle = {height: '60px', margin: '10px', padding: '10px', fontsize: '18px'};\n\nclass TrData extends React.Component {\n    constructor(props) {\n        super(props);\n\n    }\n\n    render() {\n        return (\n            this.props.items.map((item) => {\n                const checkType = item.checkType;\n                const userAddress = item.userAddress;\n                const userCheckTime = item.userCheckTime;\n                return (\n                    <tr>\n                        <td>{sessionStorage.userId}</td>\n                        <td>{checkType}</td>\n                        <td>{userAddress}</td>\n                        <td>{userCheckTime}</td>\n                    </tr>\n                )\n            })\n        )\n    }\n}\n\nclass List extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: [],\n            isLoaded: false\n        };\n    };\n\n    goodsCollectionAndApprove = () => {\n        // 获取存储的用户部门和ID\n        const userId = sessionStorage.getItem('userId');\n        const deptId = sessionStorage.getItem('deptId');\n        // demo直接构建了要请求的数据，实际开发需要从页面获取\n        const data = {\n            \"detailForms\": [{\n                \"textForms\": [{\"name\": \"物品名称\", \"value\": \"测试物品领用-电脑\"}, {\n                    \"name\": \"数量\",\n                    \"value\": \"3\"\n                }], \"name\": \"物品明细\"\n            }],\n            \"originatorUserId\": userId,\n            \"textForms\": [{\"name\": \"物品用途\", \"value\": \"测试物品领用\"}, {\"name\": \"领用详情\", \"value\": \"领用详情1\"}],\n            \"deptId\": deptId\n        };\n        // 创建审批流程\n        axios({\n            url: domain + '/process/instance',\n            method: 'post',\n            data: data,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(function (response) {\n                alert(\"success\");\n                // 根据instanceId获取实例详情\n                // axios.get(domain + '/process/instance/' + response.data.result)\n                //     .then(response => {\n                //         alert(JSON.stringify(response.data))\n                //         // console.log(response)\n                //     })\n                //     .catch(error => {\n                //         alert(JSON.stringify(error))\n                //         // console.log(error.message)\n                //     })\n                // console.log(response);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n    };\n\n    attendanceReports = () => {\n        // 获取存储的用户ID\n        const userId = sessionStorage.getItem('userId');\n        // demo直接构建了要请求的数据，实际开发需要从页面获取\n        // 获取用户考勤统计信息\n        axios.get(domain + '/attendance?userId=' + userId + '&workDate=2021-06-25')\n            .then(response => {\n                this.setState(\n                    {items: response.data.data.attendanceResultList, isLoaded: true}\n                )\n                // console.log(response)\n            })\n            .catch(error => {\n                alert(JSON.stringify(error))\n                // console.log(error.message)\n            })\n    };\n\n    render() {\n        return (<div>\n            <button style={buttonStyle} onClick={this.attendanceReports}>获取用户考勤信息</button>\n            <button style={buttonStyle} onClick={this.getTableRowData}>获取提交的审批信息</button>\n            <table style=\"table-layout:fixed;word-wrap:break-word;\">\n                <thead>\n                <tr>\n                    <th>用户</th>\n                    <th>打卡类型</th>\n                    <th>打卡地址</th>\n                    <th>打卡时间</th>\n                </tr>\n                </thead>\n                <tbody>\n\n                <TrData items={this.state.items}/>\n\n                </tbody>\n            </table>\n        </div>)\n    }\n}\n\nexport default List;\n","import './App.css';\nimport axios from 'axios';\nimport * as dd from 'dingtalk-jsapi';\nimport List from \"./List\";\n\n//内网穿透工具介绍:\n// https://developers.dingtalk.com/document/resourcedownload/http-intranet-penetration?pnamespace=app\n// 替换成后端服务域名\nexport const domain = \"http://wanzq.vaiwan.com\";\nfunction App() {\n    return (\n        <div className=\"App\">\n            <List />\n        </div>\n    );\n};\n\n\ndd.ready(function() {\n  // dd.ready参数为回调函数，在环境准备就绪时触发，jsapi的调用需要保证在该回调函数触发后调用，否则无效。\n  dd.runtime.permission.requestAuthCode({\n    corpId: \"ding9f50b15bccd16741\", //三方企业ID\n    onSuccess: function(result) {\n      // alert(JSON.stringify(result));\n      axios.get(domain + \"/login?authCode=\" + result.code)\n          .then(response => {\n              // alert(\"success\")\n              // alert(JSON.stringify(response));\n              // alert(JSON.stringify(response.data));\n              // alert(JSON.stringify(response.data.result.userid));\n              // alert(JSON.stringify(response.data.result.deptIdList[0]));\n              // 登录成功后储存用户部门和ID\n              sessionStorage.setItem(\"userId\", response.data.data.userid);\n              sessionStorage.setItem(\"deptId\", response.data.data.deptIdList[0]);\n          })\n          .catch(error => {\n              alert(\"error\");\n            alert(JSON.stringify(error))\n            // console.log(error.message)\n          });\n\n    },\n    onFail : function(err) {\n        alert(\"fail\");\n      alert(JSON.stringify(err))\n    }\n  });\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}