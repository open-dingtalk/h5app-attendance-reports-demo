(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{133:function(t,e,n){},134:function(t,e,n){},459:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),c=n(38),i=n.n(c),r=(n(133),n(134),n(61)),d=n.n(r),o=n(96),u=n(2),l=n(13),m=n(14),h=n(16),j=n(15),f=n(45),g=n(462),I=n(86),p=n.n(I),b=n(27),O=p()().subtract(7,"days").format("YYYY-MM-DD"),x=[{title:"\u7528\u6237",dataIndex:"userId",key:"userId",render:function(t){return sessionStorage.userId}},{title:"\u6253\u5361\u7c7b\u578b",dataIndex:"checkType",key:"checkType"},{title:"\u6253\u5361\u5730\u5740",dataIndex:"userAddress",key:"userAddress"},{title:"\u6253\u5361\u65f6\u95f4",dataIndex:"userCheckTime",key:"userCheckTime"}],y=[{title:"id",dataIndex:"id",key:"id"},{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u8be6\u7ec6\u8bb0\u5f55",dataIndex:"columnVals",key:"columnVals",render:function(t){return t.map((function(t){return Object(b.jsxs)("p",{children:["\u65e5\u671f\uff1a",p()(t.date).format("YYYY-MM-DD HH:MM:SS")," --"," ",t.value]})}))}}],v=function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).getAttendanceIntelligenceReports=function(){var t=sessionStorage.getItem("userId");a.setState(Object(u.a)(Object(u.a)({},a.state),{},{items:[]})),d.a.get(k+"/attendance/intelligence?userId="+t+"&fromDate="+O+"&toDate="+p()().format("YYYY-MM-DD")).then((function(t){a.setState(Object(u.a)(Object(u.a)({},a.state),{},{ListItem:t.data.data}))})).catch((function(t){console.log(t.message)}))},a.getAttendanceReports=function(){a.setState(Object(u.a)(Object(u.a)({},a.state),{},{ListItem:[]}));var t=sessionStorage.getItem("userId");d.a.get(k+"/attendance?userId="+t+"&workDate="+O).then((function(t){a.setState({items:t.data.data.attendanceResultList,isLoaded:!0})})).catch((function(t){alert(JSON.stringify(t))}))},a.state={items:[],ListItem:[],isLoaded:!1},a}return Object(m.a)(n,[{key:"render",value:function(){var t,e;return Object(b.jsxs)("div",{className:"btn",children:[Object(b.jsx)("p",{children:Object(b.jsx)(f.a,{onClick:this.getAttendanceReports,type:"primary",children:"\u83b7\u53d67\u5929\u5185\u7528\u6237\u8003\u52e4\u4fe1\u606f"})}),Object(b.jsx)("p",{children:Object(b.jsx)(f.a,{type:"primary",onClick:this.getAttendanceIntelligenceReports,children:"\u83b7\u53d6\u7528\u6237\u667a\u80fd\u8003\u52e4\u7edf\u8ba1\u4fe1\u606f"})}),(null===(t=this.state.items)||void 0===t?void 0:t.length)>0&&Object(b.jsx)(g.a,{columns:x,dataSource:this.state.items,style:{overflowX:"scroll"}}),(null===(e=this.state.ListItem)||void 0===e?void 0:e.length)>0&&Object(b.jsx)(g.a,{columns:y,dataSource:this.state.ListItem,style:{overflowX:"scroll"}})]})}}]),n}(s.a.Component),k="";o.ready((function(){var t;fetch(k+"/config").then((function(t){return t.json()})).then((function(e){t=e.data.corpId,o.runtime.permission.requestAuthCode({corpId:t,onSuccess:function(t){d.a.get(k+"/login?authCode="+t.code).then((function(t){sessionStorage.setItem("userId",t.data.data.userid),sessionStorage.setItem("deptId",t.data.data.deptIdList[0])})).catch((function(t){alert(JSON.stringify(t))}))},onFail:function(t){alert(JSON.stringify(t))}})}))}));var S=function(){return Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN01Mpftes1gwqxuL0ZQE_!!6000000004207-2-tps-240-240.png",className:"headImg",alt:""}),"\u9489\u9489\u6a21\u677f"]}),Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(v,{})})]})};n(458);i.a.render(Object(b.jsx)(S,{}),document.getElementById("root"))}},[[459,1,2]]]);
//# sourceMappingURL=main.69255c05.chunk.js.map