{"version":3,"sources":["List.js","App.js","reportWebVitals.js","index.js"],"names":["buttonStyle","height","margin","padding","fontsize","TrData","props","this","items","map","item","checkType","userAddress","userCheckTime","sessionStorage","userId","React","Component","List","getAttendanceIntelligenceReports","getItem","axios","get","domain","then","response","alert","JSON","stringify","console","log","catch","error","message","getAttendanceReports","setState","data","attendanceResultList","isLoaded","state","style","onClick","dd","permission","requestAuthCode","corpId","onSuccess","result","code","setItem","userid","deptIdList","onFail","err","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6NAIMA,EAAc,CAACC,OAAQ,OAAQC,OAAQ,OAAQC,QAAS,OAAQC,SAAU,QAE1EC,E,kDACF,WAAYC,GAAQ,uCACVA,G,0CAIV,WACI,OACIC,KAAKD,MAAME,MAAMC,KAAI,SAACC,GAClB,IAAMC,EAAYD,EAAKC,UACjBC,EAAcF,EAAKE,YACnBC,EAAgBH,EAAKG,cAC3B,OACI,+BACI,6BAAKC,eAAeC,SACpB,6BAAKJ,IACL,6BAAKC,IACL,6BAAKC,c,GAjBRG,IAAMC,WA4FZC,E,kDAjEX,WAAYZ,GAAQ,IAAD,8BACf,cAAMA,IAOVa,iCAAmC,WAE/B,IAAMJ,EAASD,eAAeM,QAAQ,UAGtCC,IAAMC,IAAIC,EAAS,mCAAqCR,EAAS,0CAC5DS,MAAK,SAAAC,GACFC,MAAMC,KAAKC,UAAUH,IACrBI,QAAQC,IAAIL,MAEfM,OAAM,SAAAC,GAEHH,QAAQC,IAAIE,EAAMC,aApBX,EAwBnBC,qBAAuB,WAEnB,IAAMnB,EAASD,eAAeM,QAAQ,UAGtCC,IAAMC,IAAIC,EAAS,sBAAwBR,EAAS,wBAC/CS,MAAK,SAAAC,GACF,EAAKU,SACD,CAAC3B,MAAOiB,EAASW,KAAKA,KAAKC,qBAAsBC,UAAU,OAIlEP,OAAM,SAAAC,GACHN,MAAMC,KAAKC,UAAUI,QAnC7B,EAAKO,MAAQ,CACT/B,MAAO,GACP8B,UAAU,GAJC,E,0CA0CnB,WACI,OAAQ,gCACJ,wBAAQE,MAAOxC,EAAayC,QAASlC,KAAK2B,qBAA1C,8DACA,wBAAQM,MAAOxC,EAAayC,QAASlC,KAAKY,iCAA1C,sFACA,kCACI,gCACA,+BACI,8CACA,0DACA,0DACA,+DAGJ,gCAEA,cAAC,EAAD,CAAQX,MAAOD,KAAKgC,MAAM/B,oB,GA3DvBQ,IAAMC,WCvBZM,EAAS,0BAUtBmB,SAAS,WAEPA,UAAWC,WAAWC,gBAAgB,CACpCC,OAAQ,uBACRC,UAAW,SAASC,GAElB1B,IAAMC,IAAIC,EAAS,mBAAqBwB,EAAOC,MAC1CxB,MAAK,SAAAC,GAOFX,eAAemC,QAAQ,SAAUxB,EAASW,KAAKA,KAAKc,QACpDpC,eAAemC,QAAQ,SAAUxB,EAASW,KAAKA,KAAKe,WAAW,OAElEpB,OAAM,SAAAC,GACHN,MAAM,SACRA,MAAMC,KAAKC,UAAUI,QAK7BoB,OAAS,SAASC,GACd3B,MAAM,QACRA,MAAMC,KAAKC,UAAUyB,UAKZC,MAxCf,WACI,OACI,qBAAKC,UAAU,MAAf,SACI,cAAC,EAAD,OCAGC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlC,MAAK,YAAkD,IAA/CmC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.24b90a9a.chunk.js","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport {domain} from \"./App\";\n\nconst buttonStyle = {height: '60px', margin: '10px', padding: '10px', fontsize: '18px'};\n\nclass TrData extends React.Component {\n    constructor(props) {\n        super(props);\n\n    }\n\n    render() {\n        return (\n            this.props.items.map((item) => {\n                const checkType = item.checkType;\n                const userAddress = item.userAddress;\n                const userCheckTime = item.userCheckTime;\n                return (\n                    <tr>\n                        <td>{sessionStorage.userId}</td>\n                        <td>{checkType}</td>\n                        <td>{userAddress}</td>\n                        <td>{userCheckTime}</td>\n                    </tr>\n                )\n            })\n        )\n    }\n}\n\nclass List extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: [],\n            isLoaded: false\n        };\n    };\n\n    getAttendanceIntelligenceReports = () => {\n        // 获取存储的用户ID\n        const userId = sessionStorage.getItem('userId');\n        // demo直接构建了要请求的数据，实际开发需要从页面获取\n        // 获取用户考勤智能统计信息\n        axios.get(domain + '/attendance/intelligence?userId=' + userId + '&fromDate=2021-06-09&toDate=2021-06-25')\n            .then(response => {\n                alert(JSON.stringify(response))\n                console.log(response)\n            })\n            .catch(error => {\n                // alert(JSON.stringify(error))\n                console.log(error.message)\n            })\n    };\n\n    getAttendanceReports = () => {\n        // 获取存储的用户ID\n        const userId = sessionStorage.getItem('userId');\n        // demo直接构建了要请求的数据，实际开发需要从页面获取\n        // 获取用户考勤信息\n        axios.get(domain + '/attendance?userId=' + userId + '&workDate=2021-06-25')\n            .then(response => {\n                this.setState(\n                    {items: response.data.data.attendanceResultList, isLoaded: true}\n                )\n                // console.log(response)\n            })\n            .catch(error => {\n                alert(JSON.stringify(error))\n                // console.log(error.message)\n            })\n    };\n\n    render() {\n        return (<div>\n            <button style={buttonStyle} onClick={this.getAttendanceReports}>获取用户考勤信息</button>\n            <button style={buttonStyle} onClick={this.getAttendanceIntelligenceReports}>获取用户智能考勤统计信息</button>\n            <table>\n                <thead>\n                <tr>\n                    <th>用户</th>\n                    <th>打卡类型</th>\n                    <th>打卡地址</th>\n                    <th>打卡时间</th>\n                </tr>\n                </thead>\n                <tbody>\n\n                <TrData items={this.state.items}/>\n\n                </tbody>\n            </table>\n        </div>)\n    }\n}\n\nexport default List;\n","import './App.css';\nimport axios from 'axios';\nimport * as dd from 'dingtalk-jsapi';\nimport List from \"./List\";\n\n//内网穿透工具介绍:\n// https://developers.dingtalk.com/document/resourcedownload/http-intranet-penetration?pnamespace=app\n// 替换成后端服务域名\nexport const domain = \"http://wanzq.vaiwan.com\";\nfunction App() {\n    return (\n        <div className=\"App\">\n            <List />\n        </div>\n    );\n};\n\n\ndd.ready(function() {\n  // dd.ready参数为回调函数，在环境准备就绪时触发，jsapi的调用需要保证在该回调函数触发后调用，否则无效。\n  dd.runtime.permission.requestAuthCode({\n    corpId: \"ding9f50b15bccd16741\", //三方企业ID\n    onSuccess: function(result) {\n      // alert(JSON.stringify(result));\n      axios.get(domain + \"/login?authCode=\" + result.code)\n          .then(response => {\n              // alert(\"success\")\n              // alert(JSON.stringify(response));\n              // alert(JSON.stringify(response.data));\n              // alert(JSON.stringify(response.data.result.userid));\n              // alert(JSON.stringify(response.data.result.deptIdList[0]));\n              // 登录成功后储存用户部门和ID\n              sessionStorage.setItem(\"userId\", response.data.data.userid);\n              sessionStorage.setItem(\"deptId\", response.data.data.deptIdList[0]);\n          })\n          .catch(error => {\n              alert(\"error\");\n            alert(JSON.stringify(error))\n            // console.log(error.message)\n          });\n\n    },\n    onFail : function(err) {\n        alert(\"fail\");\n      alert(JSON.stringify(err))\n    }\n  });\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}