(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{290:function(t,e,n){"use strict";n.r(e);var c=n(4),s=n.n(c),i=n(33),r=n.n(i),a=(n(38),n(39),n(7)),o=n.n(a),d=n(14),u=n(15),h=n(16),j=n(19),l=n(18),f=n(17),b=n.n(f),g=n(2),O={height:"60px",margin:"10px",padding:"10px",fontsize:"18px"},p=b()().subtract(7,"days").format("YYYY-MM-DD"),x=function(t){Object(j.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(u.a)(this,n),e.call(this,t)}return Object(h.a)(n,[{key:"render",value:function(){return this.props.items.map((function(t){var e=t.checkType,n=t.userAddress,c=t.userCheckTime;return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:sessionStorage.userId}),Object(g.jsx)("td",{children:e}),Object(g.jsx)("td",{children:n}),Object(g.jsx)("td",{children:c})]})}))}}]),n}(s.a.Component),m=function(t){Object(j.a)(n,t);var e=Object(l.a)(n);function n(t){var c;return Object(u.a)(this,n),(c=e.call(this,t)).getAttendanceIntelligenceReports=function(){var t=sessionStorage.getItem("userId");o.a.get(I+"/attendance/intelligence?userId="+t+"&fromDate="+p+"&toDate="+b()().format("YYYY-MM-DD")).then((function(t){console.log(t)})).catch((function(t){console.log(t.message)}))},c.getAttendanceReports=function(){var t=sessionStorage.getItem("userId");o.a.get(I+"/attendance?userId="+t+"&workDate="+p).then((function(t){c.setState({items:t.data.data.attendanceResultList,isLoaded:!0})})).catch((function(t){alert(JSON.stringify(t))}))},c.state={items:[],isLoaded:!1},c}return Object(h.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{style:O,onClick:this.getAttendanceReports,children:"\u83b7\u53d6\u7528\u6237\u8003\u52e4\u4fe1\u606f"}),Object(g.jsx)("button",{style:O,onClick:this.getAttendanceIntelligenceReports,children:"\u83b7\u53d6\u7528\u6237\u667a\u80fd\u8003\u52e4\u7edf\u8ba1\u4fe1\u606f"}),Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"\u7528\u6237"}),Object(g.jsx)("th",{children:"\u6253\u5361\u7c7b\u578b"}),Object(g.jsx)("th",{children:"\u6253\u5361\u5730\u5740"}),Object(g.jsx)("th",{children:"\u6253\u5361\u65f6\u95f4"})]})}),Object(g.jsx)("tbody",{children:Object(g.jsx)(x,{items:this.state.items})})]})]})}}]),n}(s.a.Component),I="";d.ready((function(){var t;fetch(I+"/config").then((function(t){return t.json()})).then((function(e){t=e.data.corpId,d.runtime.permission.requestAuthCode({corpId:t,onSuccess:function(t){o.a.get(I+"/login?authCode="+t.code).then((function(t){sessionStorage.setItem("userId",t.data.data.userid),sessionStorage.setItem("deptId",t.data.data.deptIdList[0])})).catch((function(t){alert(JSON.stringify(t))}))},onFail:function(t){alert(JSON.stringify(t))}})}))}));var v=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(m,{})})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,291)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),c(t),s(t),i(t),r(t)}))};r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root")),y()},38:function(t,e,n){},39:function(t,e,n){}},[[290,1,2]]]);
//# sourceMappingURL=main.f8a43795.chunk.js.map